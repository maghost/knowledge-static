(function(e){function t(t){for(var r,i,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)i=o[d],n[i]&&m.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},s=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/knowledge-static/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("64a9"),n=a.n(r);n.a},"187d":function(e,t,a){"use strict";var r=a("d144"),n=a.n(r);n.a},"1cbd":function(e,t,a){},"2e20":function(e,t,a){},"3a81":function(e,t,a){},"3cb4":function(e,t,a){},"4b0a":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d"),a("7f10");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["app",{"app--hideMenu":!e.isMenuVisible||!e.user}],attrs:{id:"app"}},[a("template-header",{attrs:{title:"Maghøst - Base de Conhecimento",hideToggle:!e.user,hideUserDropdown:!e.user}}),e.user?a("template-menu"):e._e(),e.validatingToken?a("template-loading"):a("template-content"),a("template-footer")],1)},s=[],i=(a("96cf"),a("3b8d")),o=a("bc3a"),c=a.n(o),l="__knowledge_user",u="http://mmarques-com-br.umbler.net",d="/knowledge-static/";function m(e){e&&e.response&&e.response.data?r["a"].toasted.global.error({msg:e.response.data}):"string"===typeof e?r["a"].toasted.global.error({msg:e}):r["a"].toasted.global.error()}var p=a("2f62"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"Header"},[e.hideToggle?e._e():a("a",{staticClass:"Header__toggle",on:{click:e.toggleMenu}},[a("i",{staticClass:"fa fa-lg",class:e.icon})]),a("h1",{staticClass:"Header__title"},[a("router-link",{attrs:{to:e.baseUrl}},[e._v(e._s(e.title))])],1),e.hideUserDropdown?e._e():a("UserDropdown")],1)},g=[],v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"UserDropdown"},[a("div",{staticClass:"UserDropdown__button"},[a("span",{staticClass:"d-none d-sm-block"},[e._v(e._s(e.user.name))]),a("div",{staticClass:"UserDropdown__image"},[a("Gravatar",{attrs:{email:e.user.email,alt:"User"}})],1),a("i",{staticClass:"fa fa-angle-down"})]),a("div",{staticClass:"UserDropdown__content"},[e.user.admin?a("router-link",{attrs:{to:e.baseUrl+"/admin"}},[a("i",{staticClass:"fa fa-cogs"}),e._v(" Administração\n        ")]):e._e(),a("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[a("i",{staticClass:"fa fa-sign-out"}),e._v(" Sair\n        ")])],1)])},b=[],h=a("e06a"),_=a.n(h),y={name:"UserDropdown",components:{Gravatar:_.a},computed:Object(p["b"])(["user"]),methods:{logout:function(){localStorage.removeItem(l),this.$store.commit("setUser",null),this.$router.push({name:"auth"})}}},C=y,k=(a("d539"),a("2877")),w=Object(k["a"])(C,v,b,!1,null,"00d229b8",null),x=w.exports,$={name:"Header",components:{UserDropdown:x},props:{title:{type:String,required:!0},hideToggle:{type:Boolean,required:!0},hideUserDropdown:{type:Boolean,required:!0}},computed:{icon:function(){return this.$store.state.isMenuVisible?"fa-angle-left":"fa-angle-down"}},methods:{toggleMenu:function(){this.$store.commit("toggleMenu")}}},A=$,S=(a("187d"),Object(k["a"])(A,f,g,!1,null,"91d0ce12",null)),O=S.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",{directives:[{name:"show",rawName:"v-show",value:e.isMenuVisible,expression:"isMenuVisible"}],staticClass:"Menu"},[a("div",{staticClass:"MenuFilter"},[a("i",{staticClass:"fa fa-search fa-lg"}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.treeFilter,expression:"treeFilter"}],staticClass:"MenuFilter__field",attrs:{type:"text",placeholder:"Digite para filtrar"},domProps:{value:e.treeFilter},on:{input:function(t){t.target.composing||(e.treeFilter=t.target.value)}}})]),a("Tree",{ref:"tree",staticClass:"MenuTree",attrs:{data:e.treeData,options:e.treeOptions,filter:e.treeFilter}})],1)},U=[],E=a("25ea"),I={name:"Menu",components:{Tree:E["a"]},computed:Object(p["b"])(["isMenuVisible"]),data:function(){return{treeFilter:"",treeData:this.getTreeData(),treeOptions:{propertyNames:{text:"name"},filter:{emptyText:"Categoria não encontrada"}}}},mounted:function(){this.$refs.tree.$on("node:selected",this.onNodeSelect)},methods:{getTreeData:function(){var e="".concat(u,"/categories/tree");return c.a.get(e).then(function(e){return e.data})},onNodeSelect:function(e){this.$router.push({name:"articleList",params:{id:e.id}}),"xs"!==this.$mq&&"sm"!==this.$mq||this.$store.commit("toggleMenu",!1)}}},M=I,T=(a("e4c7"),Object(k["a"])(M,P,U,!1,null,null,null)),j=T.exports,D=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},N=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"Loading"},[r("img",{attrs:{src:a("cf1c")}})])}],q={name:"Loading"},L=q,V=(a("bbb9"),Object(k["a"])(L,D,N,!1,null,"624a1738",null)),F=V.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Content"},[a("router-view")],1)},R=[],B={name:"Content"},J=B,z=(a("d39a"),Object(k["a"])(J,H,R,!1,null,"ebd707a8",null)),G=z.exports,K=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Q=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"Footer"},[a("span",[e._v("Copyright "),a("strong",[e._v("Maghøst")]),e._v(" © 2019")])])}],W={name:"Footer"},X=W,Y=(a("999f"),Object(k["a"])(X,K,Q,!1,null,"17ee23f3",null)),Z=Y.exports,ee={name:"App",components:{TemplateHeader:O,TemplateMenu:j,TemplateLoading:F,TemplateContent:G,TemplateFooter:Z},computed:Object(p["b"])(["isMenuVisible","user"]),data:function(){return{validatingToken:!0}},created:function(){this.validateToken()},methods:{validateToken:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.validatingToken=!0,t=localStorage.getItem(l),a=JSON.parse(t),this.$store.commit("setUser",null),a){e.next=8;break}return this.validatingToken=!1,this.$router.push({name:"auth"}),e.abrupt("return");case 8:return r="".concat(u,"/validateToken"),e.next=11,c.a.post(r,a);case 11:n=e.sent,n.data?(this.$store.commit("setUser",a),"xs"!==this.$mq&&"sm"!==this.$mq||this.$store.commit("toggleMenu",!1)):(localStorage.removeItem(l),this.$router.push({name:"auth"})),this.validatingToken=!1;case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},te=ee,ae=(a("034f"),a("8b0d"),Object(k["a"])(te,n,s,!1,null,"6803a8e2",null)),re=ae.exports,ne=(a("f9e3"),a("2dd8"),a("9f7b"));r["a"].use(ne["a"]);var se=a("a65d"),ie=a.n(se);r["a"].use(ie.a,{iconPack:"fontawesome",duration:3e3}),r["a"].toasted.register("success",function(e){return e.msg?e.msg:"Operação realizada com sucesso!"},{type:"success",icon:"check"}),r["a"].toasted.register("error",function(e){return e.msg?e.msg:"Ops... Erro inesperado."},{type:"error",icon:"times"});var oe=a("795b"),ce=a.n(oe),le=function(e){return e},ue=function(e){if(401!==e.response.status)return ce.a.reject(e);window.location=d};c.a.interceptors.response.use(le,ue);var de=a("660e");r["a"].use(de["a"],{breakpoints:{xs:576,sm:768,md:960,lg:1140,xl:1/0}}),r["a"].use(p["a"]);var me=new p["a"].Store({state:{isMenuVisible:!1,user:null},mutations:{toggleMenu:function(e,t){e.user?e.isMenuVisible="undefined"===typeof t?!e.isMenuVisible:t:e.isMenuVisible=!1},setUser:function(e,t){e.user=t,t?(c.a.defaults.headers.common["Authorization"]="bearer ".concat(t.token),e.isMenuVisible=!0):(delete c.a.defaults.headers.common["Authorization"],e.isMenuVisible=!1)}}}),pe=a("8c4f"),fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"Auth"},[r("div",{staticClass:"Auth__content"},[r("div",{staticClass:"AuthModal"},[r("img",{attrs:{src:a("cf05"),width:"200",alt:"Logo"}}),r("hr"),e.isSignup?[r("div",{staticClass:"Auth__title"},[e._v("Cadastro")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],attrs:{type:"text",name:"name",placeholder:"Nome"},domProps:{value:e.user.name},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.signup(t):null},input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"email",name:"email",placeholder:"E-mail"},domProps:{value:e.user.email},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.signup(t):null},input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",name:"password",placeholder:"Senha"},domProps:{value:e.user.password},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.signup(t):null},input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.confirmPassword,expression:"user.confirmPassword"}],attrs:{type:"password",name:"confirm-password",placeholder:"Confirme a senha"},domProps:{value:e.user.confirmPassword},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.signup(t):null},input:function(t){t.target.composing||e.$set(e.user,"confirmPassword",t.target.value)}}}),r("button",{on:{click:e.signup}},[e._v("Registrar")]),r("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.isSignup=!1}}},[r("span",[e._v("Já tem cadastro? Acesse o login")])])]:[r("div",{staticClass:"Auth__title"},[e._v("Login")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"email",name:"email",placeholder:"E-mail"},domProps:{value:e.user.email},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.signin(t):null},input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",name:"password",placeholder:"Senha"},domProps:{value:e.user.password},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.signin(t):null},input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),r("button",{on:{click:e.signin}},[e._v("Entrar")]),r("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.isSignup=!0}}},[r("span",[e._v("Não tem cadastro? Registre-se aqui!")])])]],2)])])},ge=[],ve=a("f499"),be=a.n(ve),he={name:"Auth",data:function(){return{isSignup:!1,user:{}}},methods:{signin:function(){var e=this,t="".concat(u,"/signin");c.a.post(t,this.user).then(function(t){e.$store.commit("setUser",t.data),localStorage.setItem(l,be()(t.data)),e.$router.push({path:d})}).catch(m)},signup:function(){var e=this,t="".concat(u,"/signup");c.a.post(t,this.user).then(function(){e.$toasted.global.success(),e.user={},e.isSignup=!1}).catch(m)}}},_e=he,ye=(a("9d1d"),Object(k["a"])(_e,fe,ge,!1,null,"325076e6",null)),Ce=ye.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Home"},[a("PageTitle",{attrs:{icon:"fa fa-home",main:"Dashboard",sub:"Base de Conhecimento"}}),a("div",{staticClass:"Stats"},[a("Stat",{attrs:{title:"Categorias",value:e.stat.categories,icon:"fa fa-folder",color:"#d54d50"}}),a("Stat",{attrs:{title:"Artigos",value:e.stat.articles,icon:"fa fa-file",color:"#3bc480"}}),a("Stat",{attrs:{title:"Usuários",value:e.stat.users,icon:"fa fa-user",color:"#3282cd"}})],1)],1)},we=[],xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"PageTitle"},[a("h1",{staticClass:"PageTitle__main"},[e.icon?a("i",{class:e.icon}):e._e(),e._v(" "+e._s(e.main))]),a("h2",{staticClass:"PageTitle__sub"},[e._v(e._s(e.sub))]),a("hr")])},$e=[],Ae={name:"PageTitle",props:{icon:{type:String,required:!0},main:{type:String,required:!0},sub:{type:String}}},Se=Ae,Oe=(a("58a4"),Object(k["a"])(Se,xe,$e,!1,null,"761783e0",null)),Pe=Oe.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Stat"},[a("div",{staticClass:"Stat__icon"},[a("i",{class:e.icon,style:{color:this.color}})]),a("div",{staticClass:"Stat__info"},[a("span",{staticClass:"Stat__title"},[e._v("\n            "+e._s(e.title)+"\n        ")]),a("span",{staticClass:"Stat__value"},[e._v("\n            "+e._s(e.value)+"\n        ")])])])},Ee=[],Ie=(a("c5f6"),{name:"Stat",props:{title:{type:String,required:!0},value:{type:Number,default:0},icon:{type:String},color:{type:String,default:"#000"}}}),Me=Ie,Te=(a("af06"),Object(k["a"])(Me,Ue,Ee,!1,null,"2708276b",null)),je=Te.exports,De={name:"Home",components:{PageTitle:Pe,Stat:je},data:function(){return{stat:{}}},mounted:function(){this.getStats()},methods:{getStats:function(){var e=this;c.a.get("".concat(u,"/stats")).then(function(t){return e.stat=t.data})}}},Ne=De,qe=(a("be06"),Object(k["a"])(Ne,ke,we,!1,null,"eff2258e",null)),Le=qe.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AdminPages"},[a("PageTitle",{attrs:{icon:"fa fa-cogs",main:"Administração do Sistema",sub:"Cadastros & Cia"}}),a("div",{staticClass:"AdminPages__tabs"},[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{attrs:{title:"Artigos",active:""}},[a("article-admin")],1),a("b-tab",{attrs:{title:"Categorias"}},[a("category-admin")],1),a("b-tab",{attrs:{title:"Usuários"}},[a("user-admin")],1)],1)],1)],1)],1)},Fe=[],He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ArticleAdmin"},[a("b-form",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.article.id,expression:"article.id"}],attrs:{type:"hidden",id:"article-id"},domProps:{value:e.article.id},on:{input:function(t){t.target.composing||e.$set(e.article,"id",t.target.value)}}}),a("b-form-group",{attrs:{label:"Nome:","label-for":"article-name"}},[a("b-form-input",{attrs:{id:"article-name",type:"text",required:"",readonly:"remove"===e.mode,placeholder:"Informe o nome da artigo"},model:{value:e.article.name,callback:function(t){e.$set(e.article,"name",t)},expression:"article.name"}})],1),a("b-form-group",{attrs:{label:"Descrição:","label-for":"article-description"}},[a("b-form-input",{attrs:{id:"article-description",type:"text",required:"",readonly:"remove"===e.mode,placeholder:"Informe a descrição"},model:{value:e.article.description,callback:function(t){e.$set(e.article,"description",t)},expression:"article.description"}})],1),"save"===e.mode?[a("b-form-group",{attrs:{label:"Imagem (URL):","label-for":"article-imageUrl"}},[a("b-form-input",{attrs:{id:"article-imageUrl",type:"text",required:"",readonly:"remove"===e.mode,placeholder:"Informe a URL da imagem"},model:{value:e.article.imageUrl,callback:function(t){e.$set(e.article,"imageUrl",t)},expression:"article.imageUrl"}})],1),a("b-form-group",{attrs:{label:"Categoria:","label-for":"article-categoryId"}},[a("b-form-select",{attrs:{id:"article-categoryId",options:e.categories},model:{value:e.article.categoryId,callback:function(t){e.$set(e.article,"categoryId",t)},expression:"article.categoryId"}})],1),a("b-form-group",{attrs:{label:"Autor:","label-for":"article-userId"}},[a("b-form-select",{attrs:{id:"article-userId",options:e.users},model:{value:e.article.userId,callback:function(t){e.$set(e.article,"userId",t)},expression:"article.userId"}})],1),a("b-form-group",{attrs:{label:"Conteúdo:","label-for":"article-content"}},[a("vue-editor",{attrs:{placeholder:"Informe o conteúdo do artigo"},model:{value:e.article.content,callback:function(t){e.$set(e.article,"content",t)},expression:"article.content"}})],1),a("b-button",{attrs:{variant:"primary"},on:{click:e.save}},[e._v("Salvar")])]:e._e(),"remove"===e.mode?a("b-button",{attrs:{variant:"danger"},on:{click:e.remove}},[e._v("Excluir")]):e._e(),a("b-button",{staticClass:"ml-2",on:{click:e.reset}},[e._v("Cancelar")])],2),a("hr"),a("b-table",{attrs:{hover:"",striped:"",items:e.articles,fields:e.fields},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button",{staticClass:"mr-2",attrs:{variant:"warning"},on:{click:function(a){e.loadArticle(t.item)}}},[a("i",{staticClass:"fa fa-pencil"})]),a("b-button",{attrs:{variant:"danger"},on:{click:function(a){e.loadArticle(t.item,"remove")}}},[a("i",{staticClass:"fa fa-trash"})])]}}])}),a("b-pagination",{attrs:{size:"md","total-rows":e.count,"per-page":e.limit},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)},Re=[],Be=(a("7f7f"),a("b3e9")),Je={name:"ArticleAdmin",components:{VueEditor:Be["VueEditor"]},data:function(){return{mode:"save",article:{},articles:[],categories:[],users:[],page:1,limit:0,count:0,fields:[{key:"id",label:"Código",sortable:!0},{key:"name",label:"Nome",sortable:!0},{key:"description",label:"Descrição",sortable:!0},{key:"actions",label:"Ações"}]}},mounted:function(){this.loadCategories(),this.loadUsers(),this.loadArticles()},watch:{page:function(){this.loadArticles()}},methods:{loadArticles:function(){var e=this,t="".concat(u,"/articles?page=").concat(this.page);c.a.get(t).then(function(t){e.articles=t.data.data,e.count=t.data.count,e.limit=t.data.limit})},loadArticle:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"save";this.mode=a;var r="".concat(u,"/articles/").concat(e.id);c.a.get(r).then(function(e){return t.article=e.data})},reset:function(){this.mode="save",this.article={},this.loadArticles()},save:function(){var e=this,t=this.article.id?"put":"post",a=this.article.id?"/".concat(this.article.id):"";c.a[t]("".concat(u,"/articles").concat(a),this.article).then(function(){e.$toasted.global.success(),e.reset()}).catch(m)},remove:function(){var e=this,t=this.article.id;c.a.delete("".concat(u,"/articles/").concat(t)).then(function(){e.$toasted.global.success(),e.reset()}).catch(m)},loadCategories:function(){var e=this,t="".concat(u,"/categories");c.a.get(t).then(function(t){e.categories=t.data.map(function(e){return{value:e.id,text:e.path}})})},loadUsers:function(){var e=this,t="".concat(u,"/users");c.a.get(t).then(function(t){e.users=t.data.map(function(e){return{value:e.id,text:"".concat(e.name," - ").concat(e.email)}})})}}},ze=Je,Ge=Object(k["a"])(ze,He,Re,!1,null,null,null),Ke=Ge.exports,Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"CategoryAdmin"},[a("b-form",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.category.id,expression:"category.id"}],attrs:{type:"hidden",id:"category-id"},domProps:{value:e.category.id},on:{input:function(t){t.target.composing||e.$set(e.category,"id",t.target.value)}}}),a("b-form-group",{attrs:{label:"Nome:","label-for":"category-name"}},[a("b-form-input",{attrs:{id:"category-name",type:"text",required:"",readonly:"remove"===e.mode,placeholder:"Informe o nome da categoria"},model:{value:e.category.name,callback:function(t){e.$set(e.category,"name",t)},expression:"category.name"}})],1),a("b-form-group",{attrs:{label:"Categoria Pai:","label-for":"category-parentId"}},["save"===e.mode?a("b-form-select",{attrs:{id:"category-parentId",options:e.categories},model:{value:e.category.parentId,callback:function(t){e.$set(e.category,"parentId",t)},expression:"category.parentId"}}):a("b-form-input",{attrs:{id:"category-parentId",readonly:""},model:{value:e.category.path,callback:function(t){e.$set(e.category,"path",t)},expression:"category.path"}})],1),"save"===e.mode?a("b-button",{attrs:{variant:"primary"},on:{click:e.save}},[e._v("Salvar")]):e._e(),"remove"===e.mode?a("b-button",{attrs:{variant:"danger"},on:{click:e.remove}},[e._v("Excluir")]):e._e(),a("b-button",{staticClass:"ml-2",on:{click:e.reset}},[e._v("Cancelar")])],1),a("hr"),a("b-table",{attrs:{hover:"",striped:"",items:e.categories,fields:e.fields},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button",{staticClass:"mr-2",attrs:{variant:"warning"},on:{click:function(a){e.loadCategory(t.item)}}},[a("i",{staticClass:"fa fa-pencil"})]),a("b-button",{attrs:{variant:"danger"},on:{click:function(a){e.loadCategory(t.item,"remove")}}},[a("i",{staticClass:"fa fa-trash"})])]}}])})],1)},We=[],Xe=a("cebc"),Ye={name:"CategoryAdmin",data:function(){return{mode:"save",category:{},categories:[],fields:[{key:"id",label:"Código",sortable:!0},{key:"name",label:"Nome",sortable:!0},{key:"path",label:"Caminho",sortable:!0},{key:"actions",label:"Ações"}]}},mounted:function(){this.loadCategories()},methods:{loadCategories:function(){var e=this,t="".concat(u,"/categories");c.a.get(t).then(function(t){e.categories=t.data.map(function(e){return Object(Xe["a"])({},e,{value:e.id,text:e.path})})})},loadCategory:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"save";this.mode=t,this.category=Object(Xe["a"])({},e)},reset:function(){this.mode="save",this.category={},this.loadCategories()},save:function(){var e=this,t=this.category.id?"put":"post",a=this.category.id?"/".concat(this.category.id):"",r="".concat(u,"/categories").concat(a);c.a[t](r,this.category).then(function(){e.$toasted.global.success(),e.reset()}).catch(m)},remove:function(){var e=this,t=this.category.id,a="".concat(u,"/categories/").concat(t);c.a.delete(a).then(function(){e.$toasted.global.success(),e.reset()}).catch(m)}}},Ze=Ye,et=Object(k["a"])(Ze,Qe,We,!1,null,null,null),tt=et.exports,at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"UserAdmin"},[a("b-form",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.id,expression:"user.id"}],attrs:{type:"hidden",id:"user-id"},domProps:{value:e.user.id},on:{input:function(t){t.target.composing||e.$set(e.user,"id",t.target.value)}}}),a("b-row",[a("b-col",{attrs:{md:"6",sm:"12"}},[a("b-form-group",{attrs:{label:"Nome:","label-for":"user-name"}},[a("b-form-input",{attrs:{id:"user-name",type:"text",required:"",readonly:"remove"===e.mode,placeholder:"Informe o nome do usuário"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1)],1),a("b-col",{attrs:{md:"6",sm:"12"}},[a("b-form-group",{attrs:{label:"E-mail:","label-for":"user-email"}},[a("b-form-input",{attrs:{id:"user-email",type:"email",required:"",readonly:"remove"===e.mode,placeholder:"Informe o e-mail do usuário"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)],1)],1),a("b-row",{directives:[{name:"show",rawName:"v-show",value:"save"===e.mode,expression:"mode === 'save'"}]},[a("b-col",{attrs:{sm:"12"}},[a("b-form-checkbox",{staticClass:"mt-3 mb-3",attrs:{id:"user-admin"},model:{value:e.user.admin,callback:function(t){e.$set(e.user,"admin",t)},expression:"user.admin"}},[e._v("\n                    Administrador?\n                ")])],1),a("b-col",{attrs:{md:"6",sm:"12"}},[a("b-form-group",{attrs:{label:"Senha:","label-for":"user-password"}},[a("b-form-input",{attrs:{id:"user-password",type:"password",required:"",placeholder:"Informe a senha do usuário"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1)],1),a("b-col",{attrs:{md:"6",sm:"12"}},[a("b-form-group",{attrs:{label:"Confirmação de senha:","label-for":"user-confirm-password"}},[a("b-form-input",{attrs:{id:"user-confirm-password",type:"password",required:"",placeholder:"Confirme a senha do usuário"},model:{value:e.user.confirmPassword,callback:function(t){e.$set(e.user,"confirmPassword",t)},expression:"user.confirmPassword"}})],1)],1)],1),a("b-row",[a("b-col",{attrs:{sm:"12"}},["save"===e.mode?a("b-button",{attrs:{variant:"primary"},on:{click:e.save}},[e._v("Salvar")]):e._e(),"remove"===e.mode?a("b-button",{attrs:{variant:"danger"},on:{click:e.remove}},[e._v("Excluir")]):e._e(),a("b-button",{staticClass:"ml-2",on:{click:e.reset}},[e._v("Cancelar")])],1)],1)],1),a("hr"),a("b-table",{attrs:{hover:"",striped:"",items:e.users,fields:e.fields},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button",{staticClass:"mr-2",attrs:{variant:"warning"},on:{click:function(a){e.loadUser(t.item)}}},[a("i",{staticClass:"fa fa-pencil"})]),a("b-button",{attrs:{variant:"danger"},on:{click:function(a){e.loadUser(t.item,"remove")}}},[a("i",{staticClass:"fa fa-trash"})])]}}])})],1)},rt=[],nt={name:"UserAdmin",data:function(){return{mode:"save",user:{},users:[],fields:[{key:"id",label:"Código",sortable:!0},{key:"name",label:"Nome",sortable:!0},{key:"email",label:"E-mail",sortable:!0},{key:"admin",label:"Administrador",sortable:!0,formatter:function(e){return e?"Sim":"Não"}},{key:"actions",label:"Ações"}]}},mounted:function(){this.loadUsers()},methods:{loadUsers:function(){var e=this,t="".concat(u,"/users");c.a.get(t).then(function(t){return e.users=t.data})},loadUser:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"save";this.mode=t,this.user=Object(Xe["a"])({},e)},reset:function(){this.mode="save",this.user={},this.loadUsers()},save:function(){var e=this,t=this.user.id?"put":"post",a=this.user.id?"/".concat(this.user.id):"",r="".concat(u,"/users").concat(a);c.a[t](r,this.user).then(function(){e.$toasted.global.success(),e.reset()}).catch(m)},remove:function(){var e=this,t=this.user.id,a="".concat(u,"/users/").concat(t);c.a.delete(a).then(function(){e.$toasted.global.success(),e.reset()}).catch(m)}}},st=nt,it=Object(k["a"])(st,at,rt,!1,null,null,null),ot=it.exports,ct={name:"AdminPages",components:{PageTitle:Pe,ArticleAdmin:Ke,CategoryAdmin:tt,UserAdmin:ot}},lt=ct,ut=Object(k["a"])(lt,Ve,Fe,!1,null,null,null),dt=ut.exports,mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.category?a("div",{staticClass:"ArticleList"},[a("page-title",{attrs:{main:e.category.name,icon:"fa fa-folder-o",sub:"Categoria"}}),a("ul",{staticClass:"ArticleList__list"},e._l(e.articles,function(e){return a("li",{key:e.id},[a("article-list-item",{attrs:{article:e}})],1)})),a("div",{staticClass:"ArticleList__loadMore"},[e.loadMore?a("button",{staticClass:"btn btn-lg btn-outline-primary",on:{click:e.getArticles}},[e._v("Carregar mais artigos")]):e._e()])],1):e._e()},pt=[],ft=a("5176"),gt=a.n(ft),vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ArticleListItem"},[r("router-link",{staticClass:"ArticleListItem__link",attrs:{to:{name:"articleDetail",params:{id:e.article.id}}}},[r("div",{staticClass:"ArticleListItem__image d-none d-sm-block"},[e.article.imageUrl?r("img",{attrs:{src:e.article.imageUrl,alt:"Article"}}):r("img",{attrs:{src:a("c54c"),alt:"Article"}})]),r("div",{staticClass:"ArticleListItem__info"},[r("h2",{staticClass:"ArticleListItem__title"},[e._v(e._s(e.article.name))]),r("p",{staticClass:"ArticleListItem__description"},[e._v(e._s(e.article.description))]),r("span",{staticClass:"ArticleListItem__author"},[r("strong",[e._v("Autor:")]),e._v(" "+e._s(e.article.author)+"\n            ")])])])],1)},bt=[],ht={name:"ArticleListItem",props:{article:{type:Object,required:!0}}},_t=ht,yt=(a("f11d"),Object(k["a"])(_t,vt,bt,!1,null,"9d81bb8a",null)),Ct=yt.exports,kt={name:"ArticleList",components:{PageTitle:Pe,ArticleListItem:Ct},data:function(){return{category:null,articles:[],page:1,loadMore:!0}},watch:{$route:function(){gt()(this.$data,this.$options.data()),this.getCategory(),this.getArticles()}},mounted:function(){this.getCategory(),this.getArticles()},methods:{getCategory:function(){var e=this,t=this.$route.params.id,a="".concat(u,"/categories/").concat(t);c()(a).then(function(t){return e.category=t.data})},getArticles:function(){var e=this,t=this.$route.params.id,a="".concat(u,"/categories/").concat(t,"/articles?page=").concat(this.page);c()(a).then(function(t){e.articles=e.articles.concat(t.data),e.page++,0===t.data.length&&(e.loadMore=!1)})}}},wt=kt,xt=(a("990e"),Object(k["a"])(wt,mt,pt,!1,null,"e0a72862",null)),$t=xt.exports,At=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.article?a("div",{staticClass:"ArticleDetail"},[a("page-title",{attrs:{main:e.article.name,sub:e.article.description,icon:"fa fa-file-o"}}),a("div",{staticClass:"ArticleDetail__content",domProps:{innerHTML:e._s(e.article.content)}})],1):e._e()},St=[],Ot=(a("ac6a"),a("8726"),a("bd12")),Pt=a.n(Ot),Ut={name:"ArticleDetail",components:{PageTitle:Pe},data:function(){return{article:null}},mounted:function(){this.getArticle()},updated:function(){document.querySelectorAll(".ArticleDetail__content pre.ql-syntax").forEach(function(e){Pt.a.highlightBlock(e)})},methods:{getArticle:function(){var e=this,t="".concat(u,"/articles/").concat(this.$route.params.id);c()(t).then(function(t){return e.article=t.data})}}},Et=Ut,It=(a("dc48"),Object(k["a"])(Et,At,St,!1,null,null,null)),Mt=It.exports;r["a"].use(pe["a"]);var Tt=[{name:"auth",path:"".concat(d,"/auth"),component:Ce},{name:"home",path:d,component:Le},{name:"adminPages",path:"".concat(d,"/admin"),component:dt,meta:{requiresAdmin:!0}},{name:"articleList",path:"".concat(d,"/categories/:id/articles"),component:$t},{name:"articleDetail",path:"".concat(d,"/articles/:id"),component:Mt}],jt=new pe["a"]({mode:"history",routes:Tt});jt.beforeEach(function(e,t,a){var r=localStorage.getItem(l);if(e.matched.some(function(e){return e.meta.requiresAdmin})){var n=JSON.parse(r);n&&n.admin?a():a({path:d})}else a()});var Dt=jt;r["a"].config.productionTip=!1,new r["a"]({store:me,router:Dt,render:function(e){return e(re)}}).$mount("#app")},"58a4":function(e,t,a){"use strict";var r=a("4b0a"),n=a.n(r);n.a},"64a9":function(e,t,a){},"858b":function(e,t,a){},"8b0d":function(e,t,a){"use strict";var r=a("a976"),n=a.n(r);n.a},9868:function(e,t,a){},"990e":function(e,t,a){"use strict";var r=a("e71f"),n=a.n(r);n.a},"999f":function(e,t,a){"use strict";var r=a("b787"),n=a.n(r);n.a},"9d1d":function(e,t,a){"use strict";var r=a("9f7a"),n=a.n(r);n.a},"9f7a":function(e,t,a){},a271:function(e,t,a){},a976:function(e,t,a){},af06:function(e,t,a){"use strict";var r=a("3cb4"),n=a.n(r);n.a},b787:function(e,t,a){},bac4:function(e,t,a){},bbb9:function(e,t,a){"use strict";var r=a("a271"),n=a.n(r);n.a},be06:function(e,t,a){"use strict";var r=a("9868"),n=a.n(r);n.a},c54c:function(e,t,a){e.exports=a.p+"img/article.ceb5521b.png"},cf05:function(e,t,a){e.exports=a.p+"img/logo.af224374.png"},cf1c:function(e,t,a){e.exports=a.p+"img/loading.8a7630ca.gif"},d144:function(e,t,a){},d39a:function(e,t,a){"use strict";var r=a("3a81"),n=a.n(r);n.a},d539:function(e,t,a){"use strict";var r=a("858b"),n=a.n(r);n.a},dc48:function(e,t,a){"use strict";var r=a("1cbd"),n=a.n(r);n.a},e4c7:function(e,t,a){"use strict";var r=a("2e20"),n=a.n(r);n.a},e71f:function(e,t,a){},f11d:function(e,t,a){"use strict";var r=a("bac4"),n=a.n(r);n.a}});
//# sourceMappingURL=app.9e236bad.js.map